var MatchUtil=null;var Spiel=function(a){a=$.extend(Spiel.setting,a);this._init(a)};Spiel.prototype={id:null,group:null,matchId:null,seq:null,lottery:null,isDan:null,league:null,time:null,hteam:null,vteam:null,letType:null,letValue:null,isOver:null,subPoint:null,spValue:null,opValue:null,_init:function(a){this.id=a.id;this.matchId=a.matchId;this.seq=a.seq;this.league=a.league;this.time=a.time;this.hteam=a.hteam;this.vteam=a.vteam;this.group=a.group;this.letType=a.letType;this.letValue=a.letValue;this.isOver=a.isOver;this.lottery=a.lottery;this.isDan=a.isDan;this.subPoint=a.subPoint;this.spValue=a.spValue;this.opValue=a.opValue}};Spiel.setting={id:0,matchId:0,seq:"0",lottery:"",isDan:false,league:"",time:""+new Date(),hteam:"主队",vteam:"客队",group:"星期日2012-06-25",isOver:false,letType:"0",letValue:"0",subPoint:0,spValue:[0,0,0,0],opValue:[0,0,0,0]};var letEnum={rq:{name:"让球",value:"rq",type:0,expression:'name="rq"'},frq:{name:"非让球",value:"frq",type:1,expression:'name="frq"'},values:function(){var a=new Array();a.push(this.rq);a.push(this.frq);return a},ConvertByValue:function(c){var a=this.values();var b=null;$.each(a,function(d,e){if(e.value==c){b=e}});return b}};var MatchControl=function(a){a=$.extend(MatchControl.setting,a);this._init(a)};MatchControl.setting={baseDiv:"jcbox",matchClass:"eventstable",matchdivClass:"trClassbg",matchdivName:"group",overMatchClass:"overbg",matchSelect:"t-select",matchShowDan:"#showDans",playType:"SPF",passType:PassControl,maxPass:8,maxMulti:9999,maxChangs:9,minChangs:2,maxDans:null,minselMatchByDan:3,basenumber:2,basedannumber:1,SelNumber:0,NotSelNumber:0,selDanNumber:0,maxYH:9,localstore:"lottery",flag:1};MatchControl.prototype={match:null,playType:null,baseMoney:null,passType:PassControl,maxMulti:null,maxChangs:null,minChangs:null,maxDans:null,maxPass:null,minselMatchByDan:null,config:MatchControl.setting,check_time_url:"",SelNumber:0,NotSelNumber:0,selDanNumber:0,maxYH:0,matchSelect:null,matchShowDan:null,offset:0,max_num:30,filterLIST:null,localstore:"lottery",flag:1,_init:function(a){this.playType=a.playType||"SPF";this.baseMoney=2;this.passType=a.passType||PassControl;this.maxMulti=a.maxMulti||1;this.maxPass=a.maxPass||8;this.maxChangs=a.maxChangs||15;this.minChangs=a.minChangs||2;this.maxDans=a.maxDans||this.maxPass-2;this.minselMatchByDan=a.minselMatchByDan||3;this.check_time_url=a.check_time_url;this.config=a||MatchControl.setting;this.SelNumber=0;this.selDanNumber=0;this.NotSelNumber=0;this.maxYH=a.maxYH||9;this.matchSelect=a.matchSelect;this.matchShowDan=a.matchShowDan;this.offset=0;this.max_num=30;this.filterLIST=new Array();this.flag=a.flag||1;this.localstore=a.localstore;if(this.flag!=7){this.analysis();if(this.flag!=5){this.Synchro()}}},analysis:function(){var e=new Date().getTime();this.match=new Array();var b=this;$("li").each(function(){if($(this).attr("id")!=""&&!isNaN($(this).attr("id"))){var f=new Spiel();f.id=$(this).attr("id");f.isOver=false;f.isDan=false;f.time=typeof($("#"+f.id+"_time").val())!="undefined"?$("#"+f.id+"_time").val():typeof($("#"+f.id+"_time").text())!="undefined"?$.trim($("#"+f.id+"_time").text()):new Date();var g=new Array();if(b.flag==4||b.flag==5){$(this).find("div[name='team']").each(function(i,k){k=$(k);var j=k.find("span");switch(i){case 0:f.matchId=$.trim($(j[0]).text());f.league=$.trim($(j[1]).text());f.time=$.trim($(j[2]).text());break;case 1:f.hteam=$.trim(k.text());g.push(0);break;case 2:f.letType=letEnum.ConvertByValue("frq").type;f.letValue=0;g.push(0);break;case 3:f.vteam=$.trim(k.text());g.push(0);break;case 4:break;default:break}})}else{var h=$(this).find("div[name='team']").length>3?false:true;$(this).find("div[name='team']").each(function(i,l){l=$(l);var j=l.find("span");switch(i){case 0:f.matchId=$.trim($(j[0]).text());f.league=$.trim($(j[1]).text());f.time=$.trim($(j[2]).text());break;case 1:f.hteam=$.trim($(j[0]).text());g.push($.trim($(j[1]).find("em").text()).replace(/[^-|+|\d|.]+/g,""));if(l.hasClass("t-select")){var k=l.attr("id")!=null?l.attr("id").split("_")[0].replace(/s+/g,"3").replace(/p+/g,"1").replace(/f+/g,"0"):"3";f.lottery+=k+"/"}break;case 2:if(h){g.push(0)}if(j.length>0){f.letType=letEnum.ConvertByValue($(j[0]).attr("name")!=null?$(j[0]).attr("name"):"frq").type;f.letValue=$.trim($(j[0]).text()).replace(/[^-|+|\d]+/g,"");g.push($.trim($(j[1]).find("em").text()).replace(/[^-|+|\d|.]+/g,""))}else{f.letType=letEnum.ConvertByValue("frq").type;f.letValue=0}if(l.hasClass("t-select")){var k=l.attr("id")!=null?l.attr("id").split("_")[0].replace(/s+/g,"3").replace(/p+/g,"1").replace(/f+/g,"0"):"1";f.lottery+=k+"/"}break;case 3:f.vteam=$.trim($(j[0]).text());g.push($.trim($(j[1]).find("em").text()).replace(/[^-|+|\d|.]+/g,""));if(l.hasClass("t-select")){var k=l.attr("id")!=null?l.attr("id").split("_")[0].replace(/s+/g,"3").replace(/p+/g,"1").replace(/f+/g,"0"):"0";f.lottery+=k}break;case 4:break;default:break}})}if(/\/$/g.test(f.lottery)){f.lottery=f.lottery.substring(0,f.lottery.length-1)}f.spValue=g;if(f.isDan){b.selDanNumber++}if(f.lottery&&f.lottery!=""){b.SelNumber++}b.match.push(f);b.filterLIST.push(f)}});var d=this.localStoreContorl("get");var c=null;if(d&&d!=""){var a=d.match(/\d+=/g);c=a[a.length-1].replace("=","")}this.showJson(c)},getSelMaxDanNumber:function(){var a=0;var b=this.SelNumber;if(b>2&&b<=15){a=b-2}else{if(b>15){a=this.maxDans}}return a},Synchro:function(){var l="";l=this.localStoreContorl("get");if(l&&l!=""){var e=l;var n=e.match(/\d+=/g);var h=e.match(/=(\d+\/?)+/g);if(n!=null&&h!=null&&n.length==h.length){var j=n.length;this.SelNumber=j;this.NotSelNumber=this.match.length-j;for(var f=0;f<j;f++){var d=n[f].replace(/=/g,"");var c=h[f].replace(/=/g,"");var k=null;if(d.length>3){k=this.upById(d,c)}else{k=this.upByMatchId(d,c)}if(k!=null){var b=k.id;var a=$("#s_"+b);var m=$("#p_"+b);var g=$("#f_"+b);switch(c){case"3":a.find("div[name='match']").addClass("t-select");break;case"1":m.find("div[name='match']").addClass("t-select");break;case"0":g.find("div[name='match']").addClass("t-select");break;case"3/1":a.find("div[name='match']").addClass("t-select");m.find("div[name='match']").addClass("t-select");break;case"3/0":a.find("div[name='match']").addClass("t-select");g.find("div[name='match']").addClass("t-select");break;case"1/0":m.find("div[name='match']").addClass("t-select");g.find("div[name='match']").addClass("t-select");break;case"3/1/0":a.find("div[name='match']").addClass("t-select");m.find("div[name='match']").addClass("t-select");g.find("div[name='match']").addClass("t-select");break;default:break}}else{this.localStoreContorl("remove");location.reload();break}}}}},upById:function(c,a){var b=null;c=c;this.match=$.map(this.match,function(d){if(d.id==c){d.lottery=a;b=d}return d});return b},upByMatchId:function(a,b){var c=null;this.match=$.map(this.match,function(d){if(d.matchId==a){d.lottery=b;c=d}return d});return c},control_condition:function(c,f,h,g){var b=this;this.offset=0;$("li").hide();if(this.filterLIST.length>0){this.filterLIST.length=0}$.each(this.match,function(l,i){var k=h.indexOf(i.league);var j=c.indexOf(i.letType);if(j!=-1){if(!f[j]){if(f[j]){b.filterLIST.push(i)}}else{if(k!=-1){if(g[k]){b.filterLIST.push(i)}}}}else{if(k!=-1){if(g[k]){b.filterLIST.push(i)}}}});var e=this.localStoreContorl("get");var d=null;if(e&&e!=""){var a=e.match(/\d+=/g);d=a[a.length-1].replace("=","")}this.showJson(d)},control_Group:function(c,b){var a=this;$.each(this.match,function(e,d){if(d.group==c&&!b){a.hide_Con($("#"+d.id));a.clearById(d.id)}})},control_selMatch:function(b){var a=this;$.each(this.match,function(d,c){if(b){if(!c.lottery||c.lottery==""){a.control_Id(c.id,false)}}else{if(!c.lottery||c.lottery==""){a.control_Id(c.id,true)}}})},control_Id:function(d,c){var b=$("#"+d);if(b.length>0){if(c){b.show()}else{b.hide();var a=this.getByMatchId(d);if(a&&!a.isOver){this.hide_Con(b)}this.clearById(d)}}},getByMatchId:function(b){var a=null;$.each(this.match,function(d,c){if(c.matchId==b){a=c;return false}});return a},clearById:function(a){this.match=$.map(this.match,function(b){if(b.id==a&&b.lottery&&b.lottery!=""){b.lottery=""}if(b.id==a&&b.isDan){b.isDan=false}return b})},hide_Con:function(a){var b=this.matchSelect;if(a.find("."+b).length>0){a.find("."+b).each(function(){$(this).removeClass(b)})}},checkTime:function(){var a=this.getSelMatchArray();var b=null;if(a&&a.length>0){$.ajax({url:this.check_time_url,data:$.map(a,function(c){return{name:"matchId",value:c}}),type:"POST",dataType:"json",async:false,cache:false,error:function(c){$.dialog.alert(null,c)},success:function(c){b=c}})}return b},UpSel:function(c,d,b){d=d.replace("s","3");d=d.replace("p","1");d=d.replace("f","0");var a=this;this.match=$.map(this.match,function(f){if(f.id==c){var g=f.lottery;if(b){if(f.lottery==""){f.lottery=d}else{if(f.lottery.indexOf(d)==-1){f.lottery=f.lottery+"/"+d}}}else{if(f.lottery.indexOf(d)!=-1){var k="";var e=f.lottery.split("/");for(var j=0;j<e.length;j++){if(e[j]!=d){if(k==""){k=e[j]}else{k=k+"/"+e[j]}}}f.lottery=k}}if(""==g&&""!=f.lottery){a.SelNumber++}else{if(""!=g&&""==f.lottery){a.SelNumber--}}if(f.lottery&&f.lottery.length>1){var e=f.lottery.split("/");var h="";e=a.ArrayOrder(e,"1");for(var j=0;j<e.length;j++){h+=e[j];if(j<e.length-1){h+="/"}}f.lottery=h}}return f});this.NotSelNumber=this.match.length-this.SelNumber},UpDan:function(b,c){var a=this;this.match=$.map(this.match,function(d){if(d.id==b){d.isDan=c;if(c){a.selDanNumber++}else{a.selDanNumber--}}return d})},clearById:function(b){var a=this;this.match=$.map(this.match,function(c){if(c.id==b&&c.lottery&&c.lottery!=""){c.lottery="";a.SelNumber--}if(c.id==b&&c.isDan){c.isDan=false}return c});this.NotSelNumber=this.match.length-this.SelNumber},clear:function(){this.SelNumber=0;this.NotSelNumber=this.match.length;this.match=$.map(this.match,function(a){if(a.lottery&&a.lottery!=""){a.lottery=""}if(a.isDan){a.isDan=false}return a})},Convert_Lottery:function(b){var e=this.scanPass();var c=this.playType+"|";var a=this.match.length;var f=new Array();var d=new Array();$.each(this.match,function(h,g){if(g.lottery&&g.lottery!=""){c=c+(b?g.id.replace(/[^\d]+/g,""):g.matchId)+"="+g.lottery+","}if(g.isDan){f.push(g)}else{if(g.lottery&&g.lottery!=""){d.push(g)}}});if(c.length>4){c=c.substring(0,c.length-1)}if(f.length>0&&d.length>0){c=this.playType+"|";$.each(f,function(h,g){c=c+(b?g.id.replace(/[^\d]+/g,""):g.matchId)+"="+g.lottery;if(h<(f.length-1)){c=c+","}else{c=c+"$"}});$.each(d,function(h,g){c=c+(b?g.id.replace(/[^\d]+/g,""):g.matchId)+"="+g.lottery;if(h<(d.length-1)){c=c+","}})}if(c.length>4){c=c+"|"+e+"|"+f.length}else{c=""}return c},getLottery:function(){var d=new Array();var c="";var b="";var a=this.match.length;var f=new Array();var e=new Array();$.each(this.match,function(h,g){if(g.lottery&&g.lottery!=""){c=c+g.seq+":"+g.lottery+"|"}if(g.isDan){f.push(g)}else{if(g.lottery&&g.lottery!=""){e.push(g)}}});if(c.length>4){c=c.substring(0,c.length-1)}if(f.length>0&&e.length>0){$.each(f,function(h,g){b+=g.seq+":1|"});$.each(e,function(h,g){b+=g.seq+":0";if(h<(e.length-1)){b+="|"}})}d.push(c);d.push(b);return d},localStoreContorl:function(c,b){var d="";if($.jStorage&&this.flag!=4){switch(c){case"save":if(b!=null&&b!=""){d=$.jStorage.set(this.localstore,b)}break;case"get":var a=document.referrer;if(a.match(/\/(jc|jczq|dc)\/(spf|rqspf|hhg|2x1|sfg|spfty|rqspfty|hhgty|2x1ty)?\/?$/g)==null){d=$.jStorage.get(this.localstore)}else{d="";$.jStorage.deleteKey(this.localstore)}break;case"remove":d=$.jStorage.deleteKey(this.localstore);break;case"clear":break;default:d=$.jStorage.get(this.localstore);break}}return d},getTypeByLottery:function(){this.localStoreContorl("save",this.Convert_Lottery(true));var d=new Array();var c="";var b="";var a=this.match.length;var f=new Array();var e=new Array();$.each(this.match,function(h,g){if(g.lottery&&g.lottery!=""){c=c+g.id.replace(/[^\d]+/g,"")+":"+g.lottery+"|"}if(g.isDan){f.push(g)}else{if(g.lottery&&g.lottery!=""){e.push(g)}}});if(c.length>4){c=c.substring(0,c.length-1)}if(f.length>0&&e.length>0){$.each(f,function(h,g){b+=g.id.replace(/[^\d]+/g,"")+":1|"});$.each(e,function(h,g){b+=g.id.replace(/[^\d]+/g,"")+":0";if(h<(e.length-1)){b+="|"}})}d.push(c);d.push(b);return d},scanPass:function(){var a="";if($("#playTypes").length>0){a=$("#playTypes").val();if(a.length==0){a=""}}a=a.replace(/单关/g,"1*1");return a},getMulti:function(){var a=1;if($("#multi").length>0){a=$("#multi").val()}return a},getMoney:function(){var b="0";var c=this.Convert_Lottery();if(typeof setWagerCountAndMoney=="function"){var a=setWagerCountAndMoney(c);b=parseInt(a[1],10)}if(isNaN(b)){b=0}return b},getNormalPass:function(){return this.passType.getPassNormalHtml(this.SelNumber)},ArrayOrderByObject:function(b,a){if(a=="1"){b.sort(function(c,d){if(parseInt(c.seq,10)<parseInt(d.seq,10)){return 1}else{return -1}})}else{b.sort(function(c,d){if(parseInt(c.id,10)>parseInt(d.id,10)){return 1}else{return -1}})}return b},ArrayOrder:function(b,a){if(a=="1"){b.sort(function(c,d){if(parseInt(c)<parseInt(d)){return 1}else{return -1}})}else{b.sort(function(c,d){if(parseInt(c)>parseInt(d)){return 1}else{return -1}})}return b},getParameter:function(d){var a=window.location.href;var b=new RegExp("(^|&)"+d+"=([^&]*)(&|$)");var c=a.substr(a.indexOf("?")+1).match(b);if(c!=null){return unescape(c[2]).replace(/\#/g,"")}return null},GreatFilterParameter:function(){var a="";var b="";$("input[name='control_let']").each(function(d){if($(this).is(":checked")){b=$(this).val()}});var c=new Array();$("input[name='control_league']").each(function(d){if(!$(this).is(":checked")){c.push(d)}});if(b!=2){a+="&lets="+b}if(c.length>0){a+="&leagues="+c.join(",")}return a},Restore:function(){var d=this.getParameter("let");var b=this.getParameter("leagues");var a=new Array();var c=new Array();var f=new Array();var e=new Array();if(d!=null&&d!=""){$("input[name='control_let']").each(function(){if($(this).val()==d){$(this).attr("checked",true)}else{$(this).attr("checked",false)}});if(d==2){a.push(0);a.push(1);c.push(true);c.push(true)}else{if(d==1){a.push(0);a.push(1);c.push(false);c.push(true)}else{if(d==0){a.push(0);a.push(1);c.push(true);c.push(false)}}}}if(b!=null&&b!=""){b=b.split(",");$("input[name='control_league']").each(function(g){f.push($(this).val());if(b.indexOf(g)!=-1){e.push(false);$(this).attr("checked",false)}else{e.push(true);$(this).attr("checked",true)}})}MatchUtil.control_condition(a,c,f,e)},getSelSpValue:function(){var b="";var a=new Array();var c=new Array();$.each(this.match,function(e,d){if(d.lottery&&d.lottery!=null){var f="";if(d.lottery.indexOf("3")!=-1){f+=d.spValue[0]+"/"}if(d.lottery.indexOf("1")!=-1){f+=d.spValue[1]+"/"}if(d.lottery.indexOf("0")!=-1){f+=d.spValue[2]+"/"}if(f.length>0){f=f.substring(0,f.length-1)}b+=f+",";if(d.isDan){a.push(d.id+"="+f)}else{c.push(+d.id+"="+f)}}});if(a.length>0){b="";$.each(a,function(e,d){b=b+d+","});b=b.substring(0,b.length-1);b=b+";";$.each(c,function(e,d){b=b+d+","})}if(b.length>0){b=b.substring(0,b.length-1)}return b},getSimulateLottery:function(){var b="";var a=new Array();var c=new Array();$.each(this.match,function(e,d){if(d.lottery&&d.lottery!=null){var f=""+d.id+"=";if(d.lottery.indexOf("3")!=-1){f+="3-"+d.spValue[0]+"/"}if(d.lottery.indexOf("1")!=-1){f+="1-"+d.spValue[1]+"/"}if(d.lottery.indexOf("0")!=-1){f+="0-"+d.spValue[2]+"/"}f=f.substring(0,f.length-1);b+=f+",";if(d.isDan){a.push(f)}else{c.push(f)}}});if(a.length>0){b="";$.each(a,function(e,d){b=b+d+","});b=b.substring(0,b.length-1);b=b+";";$.each(c,function(e,d){b=b+d+","})}if(b.length>0){b=b.substring(0,b.length-1)}b=b+"|"+this.scanPass()+"|"+this.getMulti()+"|"+this.getMoney();return b},getSimulateMoney:function(b){if(!b||b==null||""==b||!Number(b)){b=1}var a=this.scanPass();if(a.indexOf(",")!=-1){a=a.split(",")}var d=new CountBonus(this.getSelSpValue(),a,1,b);var c=d.Count_MaxMoney();if(!Number(c)){c=0}return c},getMinMoney:function(b){if(!b||b==null||""==b||!Number(b)){b=1}var a=this.scanPass();if(a.indexOf(",")!=-1){a=a.split(",")}var d=new CountBonus(this.getSelSpValue(),a,1,b);var c=d.Count_MinMoney();if(!Number(c)){c=0}return c},toMoney:function(d){var c=parseFloat(d)<0?"-":"";var b=Math.abs(parseFloat(d)).toString();if(/[^0-9\.]/.test(b)){return"invalid value"}b=b.replace(/^(\d*)$/,"$1.");b=(b+"00").replace(/(\d*\.\d\d)\d*/,"$1");b=b.replace(".",",");var a=/(\d)(\d{3},)/;while(a.test(b)){b=b.replace(a,"$1,$2")}b=b.replace(/,(\d\d)$/,".$1");return c+b.replace(/^\./,"0.")},getLastMatchTime:function(){var a="";var b=$("li[id^='match_']").first().attr("id");$.each(this.match,function(d,c){if(c.id==b){a=c.time}});return a},WriteBonusInfo:function(n){var g="";var k=0;if(n&&n.length>0){g+="<table width='0' border='0' cellspacing='0' cellpadding='0' class='jjmx'><tr class='his-th'><th colspan='6'><label class='ldjf left'>模拟奖金明细</label> </th></tr><tr class='xd-tr'><td width='17%' rowspan='2'>命中场数</td><td width='18%' "+(n.length>1?"colspan='"+n.length+"'":"")+">中奖注数</td><td width='15%' rowspan='2'>倍数</td><td width='50%' colspan='2'>奖金(元)</td></tr><tr class='xd-tr'>";for(var f=0;f<n.length;f++){g+="<td>"+n[f].pass.replace(/1单关/g,"11串1")+"</td>"}g+="<td width='25%'>最小</td><td width='25%'>最大</td></tr>";var h=n[0].info;for(var f=0;f<h.length;f++){var d=h[f];g+="<tr><td width='17%'>"+d.chang+"</td>";$.each(d.pass,function(c,i){g+="<td width='18%'>"+i+"</td>"});g+="<td width='15%'>"+d.multiple+"</td><td width='25%' name='info_min_"+d.chang+"'><a href='###' class='jj-line' >"+d.min+"</a></td><td width='25%' name='info_max_"+d.chang+"'><a href='###' class='jj-line' >"+d.max+"</a></td></tr>"}g+="</table>";for(var f=0;f<h.length;f++){var d=h[f];var b=0;g+="<table id='min_"+d.chang+"' width='0' border='0' cellspacing='0' cellpadding='0' style='display:none;'>";g+="<tr class='xd-tr'><td width='17%'>过关方式</td><td width='17%'>中奖注数</td><td width='49%'>中"+d.chang+"场最小奖金明细</td><td width='17%'>奖金(元)</td></tr>";for(var e=0;e<h[f].info.length;e++){var a=h[f].info[e];b+=parseInt(a.zhu,10);g+="<tr><td width='18%'>"+a.pass.replace(/1单关/g,"11串1")+"</td><td width='16%'>"+a.zhu+"</td><td width='49%' align='left'>";for(var l=0;l<a.mininfo.length;l++){g+=a.mininfo[l]+"<br/>"}g+="</td><td width='17%'>"+a.minbonus+"</td></tr>"}g+="<tr><td width='18%'>合计</td><td width='16%'>"+b+"</td><td width='49%' align='left'>&nbsp;</td><td width='17%'>"+d.min+"</td></tr>";g+="</table>";b=0;g+="<table id='max_"+d.chang+"' width='0' border='0' cellspacing='0' cellpadding='0' style='display:none;'>";g+="<tr class='xd-tr'><td width='17%'>过关方式</td><td width='17%'>中奖注数</td><td width='49%'>中"+d.chang+"场最大奖金明细</td><td width='17%'>奖金(元)</td></tr>";for(var e=0;e<h[f].info.length;e++){var a=h[f].info[e];b+=parseInt(a.zhu,10);g+="<tr><td width='18%'>"+a.pass.replace(/1单关/g,"11串1")+"</td><td width='16%'>"+a.zhu+"</td><td width='49%' align='left'>";for(var l=0;l<a.maxinfo.length;l++){g+=a.maxinfo[l]+"<br/>"}g+="</td><td width='17%'>"+a.maxbonus+"</td></tr>"}g+="<tr><td width='18%'>合计</td><td width='16%'>"+b+"</td><td width='49%' align='left'>&nbsp;</td><td width='17%'>"+d.max+"</td></tr>";g+="</table>"}}if(g!=""&&$("#bonusInfo").length==1){$("#bonusInfo").html(g);$("#bonusInfo").find("td[name^='info_']").on("click",function(){var i=$(this).attr("name").replace(/[^\d]+/g,"");var c=$(this).attr("name").indexOf("min")!=-1?"min":"max";if($("#bonusInfo").find("table[id^='min_']:visible").length>0){$("#bonusInfo").find("table[id^='min_']:visible").hide()}if($("#bonusInfo").find("table[id^='max_']:visible").length>0){$("#bonusInfo").find("table[id^='max_']:visible").hide()}if($("#"+c+"_"+i).length>0&&!$("#"+c+"_"+i).is(":visible")){$("#"+c+"_"+i).show()}})}},showJson:function(e){var g=this.filterLIST;if(g==null||g.length==0){this.offset=0}if(this.offset>g.length){this.offset=g.length}var f=0;var b=false;for(var d=0;d<g.length;d++){var a=$("#"+g[d].id);var c=(d>=(this.offset+this.max_num))?false:true;if(c||(e&&!b)){a.show();a.parent().attr("style","display:bolck")}else{a.hide()}if(e&&e==g[d].id){f=d;b=true}}$(".games-list").each(function(){var h=$("li:visible",this);if(h.length==0){$(this).parent().prev().addClass("hidden");$(this).hide()}else{$(this).show();$(this).parent().prev().removeClass("hidden")}});if(e){this.offset+=f+1}else{this.offset+=this.max_num}if(this.offset>=g.length){$(".text-center.jczq-more").hide()}else{if($(".text-center.jczq-more").is(":hidden")){$(".text-center.jczq-more").show()}}if($("#showNumber").length>0){$("#showNumber").html(this.SelNumber)}}};function showMsg(d,b){if(!b){b=1.5}var c="msg_"+Math.ceil(Math.random()*100000);if(positionFix()){var a=$('<div id="'+c+'" class="msg">'+d+"</div>");$(document.body).append(a);a.show()}else{var a=$('<div id="'+c+'" class="msg">'+d+"</div>");$(document.body).append(a);a.css({top:getScrollTop(),marginTop:$(window).height()-43,position:"absolute"}).show()}setTimeout(function(){$("#"+c).remove()},b*1000)}function positionFix(){if(navigator.userAgent.match(/iPhone OS 4_./)!=null){return false}else{if(navigator.userAgent.match(/iPhone OS 3_./)!=null){return false}}return true};